<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="css/main.css" />
</head>

<body dir="rtl">
    <div class="d-flex">
        <!-- Sidebar -->
        <div id="sidebar" class="bg-dark text-white sidebar collapsed">
            <div class="d-flex justify-content-end p-3">
                <button class="toggle-btn" id="toggle-btn">&larr;</button>
            </div>
            <div class="m-auto text-center mt-4">
                <img class="m-auto" src="./images/Icon white.png" />
            </div>
            <ul class="nav-sidebar flex-column">

                <li class="nav-item">
                    <a href="#" class="nav-link text-white gap-3">
                        <i class="fas fa-home"></i>
                        <span>الرابط الأول</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link text- text-white gap-3">
                        <i class="fas fa-user"></i>
                        <span>الرابط الثاني</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link text- text-white gap-3">
                        <i class="fas fa-cog"></i>
                        <span>الرابط الثالث</span>
                    </a>
                </li>
            </ul>
        </div>


        <!-- Main content -->
        <div class="container-fluid " id="main-content">
            <div class="row mb-3 align-items-center nav-dashboard">
                <div class="col d-flex justify-content-end align-items-end">

                    <div class="d-flex align-items-center">


                        <div class="profile-info position-relative">
                            <i class="fa-regular fa-bell" style="font-size: 24px;"></i>
                            <span class="badge bg-danger rounded-circle position-absolute"
                                style="top: 0; right: 0; transform: translate(50%, -50%); width: 8px; height: 8px;"></span>
                        </div>



                        <div class="profile-info">
                            <i class="fa-regular fa-envelope"></i>
                        </div>
                        <div class="profile-info">
                            <div class="custom-dropdown">
                                <div class="dropdown-toggle">
                                    <img src="./images/Rectangle 1.png" alt="Profile" class="rounded-circle" width="40">
                                    <span class="mx-2" id="selected-user">متعب أ.</span>
                                </div>
                                <div class="dropdown-content" id="dropdown-menu">
                                    <div data-value="متعب أ.">
                                        <img src="./images/Rectangle 1.png" alt="Profile">
                                        متعب أ.
                                    </div>
                                    <div data-value="محمد ب.">
                                        <img src="./images/Rectangle 1.png" alt="Profile">
                                        محمد ب.
                                    </div>
                                    <div data-value="علي ج.">
                                        <img src="./images/Rectangle 1.png" alt="Profile">
                                        علي ج.
                                    </div>
                                    <div data-value="فاطمة س.">
                                        <img src="./images/Rectangle 1.png" alt="Profile">
                                        فاطمة س.
                                    </div>
                                    <!-- Add more options as needed -->
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
            <div>
                <div class="d-flex justify-content-center align-items-center flex-wrap gap-3 w-100 container">

                    <div class=" text-right mt-4 title">
                        <h2 class="text-right" style="font-size: 46px;">مرحباً بك !</h2>
                        <p class="text-right">لوحة التحكم</p>
                    </div>

                    <!-- Statistics Cards -->
                    <div class=" mt-4 " style="width: 79%;">
                        <div class="row custom-mobile-gap">
                            <div class="col-md-4 col-sm-12 parent-card">
                                <div class="stat-card">
                                    <div class="d-flex  text-right gap-3 align-items-center">
                                        <div class="stat-icon">

                                            <img src="./images/moon.svg" />
                                        </div>
                                        <div class="stat-value">
                                            <div class="stat-label">اجمالي المبيعات</div>
                                            <p>1.2K</p>
                                        </div>

                                    </div>
                                    <div class="stat-info">
                                        <span>من اخر الشهر</span>
                                        <p>8.56% <i class="fa-solid fa-arrow-up"></i></p>
                                    </div>

                                </div>
                            </div>

                            <div class="col-md-4 col-sm-12 parent-card">
                                <div class="stat-card">
                                    <div class="d-flex  text-right gap-3 align-items-center">
                                        <div class="stat-icon">

                                            <img src="./images/Vector.svg" />
                                        </div>
                                        <div class="stat-value">
                                            <div class="stat-label">الرفوف النشطه</div>
                                            <p>1.2K</p>
                                        </div>

                                    </div>

                                </div>
                            </div>

                            <div class="col-md-4 col-sm-12 parent-card">
                                <div class="stat-card">
                                    <div class="d-flex  text-right gap-3 align-items-center">
                                        <div class="stat-icon">

                                            <img src="./images/Vector (1).svg" />
                                        </div>
                                        <div class="stat-value">
                                            <div class="stat-label">المخزون</div>
                                            <p>1.2K</p>
                                        </div>

                                    </div>
                                    <div class="stat-info">
                                        <span>500 </span>
                                    </div>

                                </div>
                            </div>


                        </div>
                    </div>
                </div>


                <!-- Chart Section -->
                <div class="container mt-5">
                    <div class="chart-container">
                        <div class="d-flex justify-content-between mb-3 flex-wrap">
                            <div class="chart-title">المبيعات</div>
                            <div class="dropdown">
                                <button class="btn btn-outline-secondary dropdown-toggle" type="button"
                                    id="dropdownMenuButton">
                                    آخر سنة
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#">السنة الماضية</a>
                                    <a class="dropdown-item" href="#">السنة الحالية</a>
                                </div>
                            </div>
                            <!-- تمت إزالة عنوان المخطط -->
                        </div>
                        <div class="chart">
                            <canvas id="salesChart"></canvas>
                        </div>
                    </div>
                </div>

            </div>

            <div class="row table-container container m-auto">
                <div class="col">
                    <div class="d-flex justify-content-between align-items-center flex-wrap">

                        <div>

                            <h1 class="mb-4 add-title">اخر الطلبات</h1>
                        </div>
                        <div class="d-flex align-items-center justify-content-end gap-3 flex-wrap flex-1">
                            <button class="step2-btn-next"> <i class="fa-solid fa-plus"></i> طلب جديد</button>
                            <input type="text" class="form-control " placeholder="بحث...">
                        </div>
                    </div>

                    <!-- Table -->
                    <div class="table-responsive">
                        <table class="table table-hover text-center">
                            <thead>
                                <tr class="font-ligth">
                                    <th class="font-ligth"># <img class="svg-filter" src="./images/bars-filter (1).svg"
                                            alt="Profile"></th>
                                    <th class="font-ligth">المحل التجاري <img class="svg-filter"
                                            src="./images/bars-filter (1).svg" alt="Profile"></th>
                                    <th class="font-ligth">نوع النشاط<img class="svg-filter"
                                            src="./images/bars-filter (1).svg" alt="Profile"></th>
                                    <th class="font-ligth">تاريخ الطلب<img class="svg-filter"
                                            src="./images/bars-filter (1).svg" alt="Profile"></th>
                                    <th class="font-ligth">السعر <img class="svg-filter"
                                            src="./images/bars-filter (1).svg" alt="Profile"></th>
                                    <th class="font-ligth"> <img class="svg-filter" src="./images/bars-filter (1).svg"
                                            alt="Profile"></th>
                                    <th class="font-ligth">حاله الطلب <img class="svg-filter"
                                            src="./images/bars-filter (1).svg" alt="Profile"></th>
                                    <th class="font-ligth"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Add rows here dynamically if needed -->
                                <tr class="text-right">
                                    <td class="font-ligth">1</td>
                                    <td class="font-ligth"><img src="./images/Rectangle 1.png" class="rounded-circle"
                                            width="30"> برج مركز المملكة</td>
                                    <td class="font-ligth">OCB-325685362FDH</td>
                                    <td class="font-ligth">24 فبراير 2024</td>
                                    <td class="font-ligth">200</td>
                                    <td class="font-ligth"></td>
                                    <td class="font-ligth">
                                        <button class="ptn-active">مفعل</button>

                                    </td>

                                </tr>


                                <!-- Repeat for more orders -->
                            </tbody>
                        </table>
                    </div>
                       <!-- Pagination -->
                       <nav>
                        <ul class="pagination justify-content-start align-items-center">
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                            <!-- Select Dropdown for Page Number -->
                            <li class="page-item d-flex align-items-center font-ligth">
                                <select class="form-select form-select-sm mx-2 px-5 font-ligth" aria-label="Select page">
                                    <option  class="font-ligth"  selected value="1">1</option>
                                    <option class="font-ligth" value="2">2</option>
                                    <option class="font-ligth"  value="3">3</option>
                                    <option  class="font-ligth" value="4">4</option>
                                    <option  class="font-ligth" value="5">5</option>
                                    <!-- يمكنك إضافة المزيد من الخيارات حسب الحاجة -->
                                </select>
                            </li>
                            <li>
                                <p class="mb-0 mx-2">/ صفحه</p>
                            </li>
                        </ul>
                    </nav>






                </div>
            </div>
        </div>
    </div>




    <!-- <a  href="#exampleModalToggle" role="button">Open first modal</a> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Event listener for dropdown button
        document.getElementById('dropdownMenuButton').addEventListener('click', function () {
            var dropdownMenu = document.querySelector('.dropdown-menu');
            dropdownMenu.classList.toggle('show');
        });

        // Close dropdown if clicked outside
        document.addEventListener('click', function (event) {
            var dropdownMenu = document.querySelector('.dropdown-menu');
            if (!event.target.closest('.dropdown')) {
                dropdownMenu.classList.remove('show');
            }
        });

        // Chart.js example for sales chart
        const ctx = document.getElementById('salesChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    data: [10000, 30000, 80000, 40000, 50000, 60000, 70000, 10000, 90000, 100000, 110000, 120000],
                    borderColor: 'rgba(0, 123, 255, 1)', // لون الخط
                    borderWidth: 2,
                    fill: true, // ملء المساحة تحت الخط
                    backgroundColor: 'rgba(43, 195, 226, 0.16)', // لون الخلفية مع شفافية
                    tension: 0.3,
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false // إلغاء عرض الشريط الجانبي
                    }
                }
            }
        });
        document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', function () {
                // تغيير النص في الزر ليتوافق مع الخيار المحدد
                document.getElementById('dropdownMenuButton').textContent = this.textContent;

                // الحصول على السنة المختارة من خاصية data-year
                const selectedYear = this.getAttribute('data-year');

                // تحديث بيانات المخطط
                salesChart.data.datasets[0].data = salesData[selectedYear];
                salesChart.update();  // تحديث المخطط

            });
        });
    </script>

</body>

</html>